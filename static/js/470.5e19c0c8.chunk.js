"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[470],{9245:function(n,e,t){t.d(e,{a:function(){return s}});var r,o=t(5243),i=t(168),c=t(6444).ZP.div(r||(r=(0,i.Z)(["\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: 100vh;\n"]))),a=t(184),s=function(){return(0,a.jsx)(c,{children:(0,a.jsx)(o.Z1,{height:"100",width:"100",color:"rgb(255,69,0)",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",outerCircleColor:"",innerCircleColor:"",middleCircleColor:""})})}},2497:function(n,e,t){t.d(e,{FN:function(){return c},ZN:function(){return i}});var r=t(7596),o=(t(5462),t(184)),i=function(){return r.Am.error("Wrong search parameter, reload the page and try again",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},c=function(){return(0,o.jsx)(r.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})}},3470:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var r,o,i,c,a,s,u,l,f,d,p,h,m,x,v,g,b=t(885),w=t(2791),Z=t(7689),y=t(5861),j=t(7757),k=t.n(j),P=t(23),z=t(2497),C="pending",S="resolved",O="rejected",_=t(9245),W="pending",E="resolved",B="rejected",F=t(168),N=t(6444),T=N.ZP.div(r||(r=(0,F.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  width: 100vw;\n  height: 100vh;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: ",";\n"])),(function(n){return n.theme.colors.muted})),L=N.ZP.div(o||(o=(0,F.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),A=(N.ZP.img(i||(i=(0,F.Z)(["\n  width: 100%;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),t(4164)),H=t(184),U=document.querySelector("#modal-root"),G=(0,w.forwardRef)((function(n,e){var t=n.onClose,r=n.status,o=n.isModalOpen,i=n.trailer;(0,w.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[t]);return(0,A.createPortal)((0,H.jsx)(H.Fragment,{children:o&&"resolved"===r&&(0,H.jsx)(T,{ref:e,onClick:function(n){n.currentTarget===n.target&&t()},children:(0,H.jsx)(L,{children:(0,H.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat(i[0].key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}),U)})),I=t(8617),M=N.ZP.button(c||(c=(0,F.Z)(["\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  padding: 8px 16px;\n  margin: 0 0 15px 0;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  background-color: ",";\n  border: "," ",";\n  border-radius: ",";\n  cursor: pointer;\n  &:hover,\n  :focus {\n    color: ",";\n\n    background-color: ",";\n    border: "," ",";\n    box-shadow: 1px 1px 3px ",";\n  }\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.secondary}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.accent})),R=N.ZP.img(a||(a=(0,F.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 82%;\n  width: 100px;\n\n  transform: translate(50%, -50%);\n  cursor: pointer;\n"]))),q=(0,N.ZP)(I.jTe)(s||(s=(0,F.Z)(["\n  margin: 0 5px 0 0;\n"]))),Y=N.ZP.div(u||(u=(0,F.Z)(["\n  position: relative;\n  display: flex;\n  margin: 0 0 20px 0;\n"]))),D=N.ZP.div(l||(l=(0,F.Z)(["\n  padding: 20px;\n  margin: 0 0 0 10px;\n  width: calc(100% - 310px);\n\n  box-shadow: 2px 2px 5px ",";\n  border-radius: ",";\n"])),(function(n){return n.theme.colors.muted}),(function(n){return n.theme.radii.normal})),K=N.ZP.img(f||(f=(0,F.Z)(["\n  width: 18vw;\n\n  box-shadow: 2px 2px 5px ",";\n  border-radius: ",";\n  cursor: pointer;\n"])),(function(n){return n.theme.colors.muted}),(function(n){return n.theme.radii.normal})),$=N.ZP.h2(d||(d=(0,F.Z)(["\n  margin: 0 0 20px 0;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-decoration: underline;\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.l}),(function(n){return n.theme.fontWeights.bold})),J=N.ZP.h3(p||(p=(0,F.Z)(["\n  margin: 40px 0 20px 0;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.fontWeights.bold})),Q=N.ZP.p(h||(h=(0,F.Z)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.fontWeights.normal})),V=N.ZP.span(m||(m=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.fontWeights.bold})),X=t(6652),nn=t(4785),en=function(n){var e=n.movie,t=n.label,r=n.onBackClick,o=(0,w.useState)(!1),i=(0,b.Z)(o,2),c=i[0],a=i[1],s=function(n){var e=(0,w.useState)([]),t=(0,b.Z)(e,2),r=t[0],o=t[1],i=(0,w.useState)(""),c=(0,b.Z)(i,2),a=c[0],s=c[1];return(0,w.useEffect)((function(){function e(){return(e=(0,y.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.zU)(n);case 3:if(t=e.sent,o(t),s(E),0!==t.length){e.next=8;break}return e.abrupt("return",s(B));case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),s(B),console.log(e.t0.message),(0,z.ZN)();case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}s(W),function(){e.apply(this,arguments)}()}),[n]),{video:r,status:a}}(e.id),u=s.video,l=s.status,f=(0,w.createRef)(),d=function(){a((function(n){return!n}))};(0,w.useEffect)((function(){return f.current&&(document.body.style.top="-".concat(window.scrollY,"px"),document.body.style.position="fixed"),function(){var n=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(n||"0"))}}),[f]);var p=e.title,h=e.poster_path,m=e.genres,x=e.overview,v=e.vote_average;return(0,H.jsxs)("div",{children:[(0,H.jsxs)(M,{type:"button",onClick:r,children:[t||"BACK TO HOME",(0,H.jsx)(q,{size:"20"})]}),(0,H.jsxs)(Y,{onClick:d,children:[h?(0,H.jsx)(K,{src:"".concat("https://image.tmdb.org/t/p/w300").concat(h),alt:p}):(0,H.jsx)(K,{src:"".concat(X),alt:"no-poster-available"}),"resolved"===l&&(0,H.jsx)(R,{src:nn,alt:"youtube"}),(0,H.jsxs)(D,{children:[(0,H.jsx)($,{children:p}),(0,H.jsxs)(Q,{children:["User score: ",(0,H.jsx)("b",{children:v})]}),(0,H.jsx)(J,{children:"Overview"}),""!==x?(0,H.jsx)(Q,{children:x}):(0,H.jsx)(Q,{children:"No overview"}),(0,H.jsx)(J,{children:"Genres"}),m?m.map((function(n){return(0,H.jsx)(V,{children:n.name},n.id)})):(0,H.jsx)(Q,{children:"No genre"})]})]}),(0,H.jsx)(G,{ref:f,onClose:d,isModalOpen:c,trailer:u,status:l})]})},tn=t(1087),rn=N.ZP.div(x||(x=(0,F.Z)(["\n  padding: 20px;\n  margin: 30px 0 0 0;\n\n  border-radius: ",";\n  box-shadow: 2px 2px 5px ",";\n"])),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.muted})),on=(0,N.ZP)(tn.OL)(v||(v=(0,F.Z)(["\n  display: flex;\n  margin: 0 0 0 10px;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-decoration: none;\n  &:nth-child(2) {\n    margin-bottom: 10px;\n  }\n  &.active {\n    color: ",";\n    font-size: ",";\n  }\n"])),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.fontSizes.s}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.m})),cn=N.ZP.h2(g||(g=(0,F.Z)(["\n  margin: 0 0 30px 10px;\n\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-decoration: underline;\n"])),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.fontSizes.l}),(function(n){return n.theme.fontWeights.bold})),an=(0,w.lazy)((function(){return Promise.all([t.e(667),t.e(952)]).then(t.bind(t,7952))})),sn=(0,w.lazy)((function(){return Promise.all([t.e(667),t.e(126),t.e(692)]).then(t.bind(t,8692))})),un=function(){return(0,H.jsxs)(rn,{children:[(0,H.jsx)(cn,{children:"Adittional information"}),(0,H.jsx)(on,{to:"cast",children:"Cast"}),(0,H.jsx)(on,{to:"reviews",children:"Reviews"}),(0,H.jsx)(w.Suspense,{children:(0,H.jsxs)(Z.Z5,{children:[(0,H.jsx)(Z.AW,{path:"cast",element:(0,H.jsx)(an,{})}),(0,H.jsx)(Z.AW,{path:"reviews",element:(0,H.jsx)(sn,{})})]})})]})};function ln(){var n=(0,w.useState)(""),e=(0,b.Z)(n,2),t=e[0],r=e[1],o=function(n){var e=(0,w.useState)([]),t=(0,b.Z)(e,2),r=t[0],o=t[1],i=(0,w.useState)(""),c=(0,b.Z)(i,2),a=c[0],s=c[1];return(0,w.useEffect)((function(){function e(){return(e=(0,y.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.BG)(n);case 3:t=e.sent,o(t),s(S),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),s(O),console.log(e.t0.message),(0,z.ZN)();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}s(C),function(){e.apply(this,arguments)}()}),[n]),{movie:r,status:a}}((0,Z.UO)().slug.match(/[a-z0-9]+$/)[0]),i=o.movie,c=o.status,a=(0,Z.TH)(),s=(0,Z.s0)();return(0,w.useEffect)((function(){var n,e;null!==(n=a.state)&&void 0!==n&&null!==(e=n.from)&&void 0!==e&&e.label&&r(a.state.from.label)}),[a.state]),(0,H.jsxs)(H.Fragment,{children:["pending"===c&&(0,H.jsx)(_.a,{}),"resolved"===c&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(en,{movie:i,label:t,onBackClick:function(){var n,e;null!==a&&void 0!==a&&null!==(n=a.state)&&void 0!==n&&null!==(e=n.from)&&void 0!==e&&e.location?s(a.state.from.location):s("/")}}),(0,H.jsx)(un,{})]}),"rejected"===c&&(0,H.jsx)(z.FN,{})]})}},23:function(n,e,t){t.d(e,{BG:function(){return l},LI:function(){return p},bD:function(){return f},vw:function(){return u},wH:function(){return d},zU:function(){return h}});var r=t(5861),o=t(7757),i=t.n(o),c=t(1044),a="0914d39eb3001af3cbf4eab1bcce1db8",s="https://api.themoviedb.org/3",u=function(){var n=(0,r.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/trending/movie/day?api_key=").concat(a));case 2:return e=n.sent,n.abrupt("return",e.data.results);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/movie/").concat(e,"?api_key=").concat(a));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(a));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(a));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/search/movie?api_key=").concat(a,"&query=").concat(e));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("".concat(s,"/movie/").concat(e,"/videos?api_key=").concat(a));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},6652:function(n,e,t){n.exports=t.p+"static/media/no-poster-available.7555b15218a0f4733bf7.jpg"},4785:function(n,e,t){n.exports=t.p+"static/media/youtube.05708571272829044b08.png"}}]);
//# sourceMappingURL=470.5e19c0c8.chunk.js.map